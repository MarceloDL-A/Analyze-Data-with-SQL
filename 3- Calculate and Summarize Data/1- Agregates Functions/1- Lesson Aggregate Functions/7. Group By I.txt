Aggregate Functions

Avatar
Aggregate Functions: Group By INarrative and Instructions
Learn
AGGREGATE FUNCTIONS
Group By I
Oftentimes, we will want to calculate an aggregate for data with certain characteristics.

For instance, we might want to know the mean IMDb ratings for all movies each year. We could calculate each number by a series of queries with different WHERE statements, like so:

SELECT AVG(imdb_rating)
FROM movies
WHERE year = 1999;

SELECT AVG(imdb_rating)
FROM movies
WHERE year = 2000;

SELECT AVG(imdb_rating)
FROM movies
WHERE year = 2001;
and so on.

Luckily, there’s a better way!

We can use GROUP BY to do this in a single step:

SELECT year,
   AVG(imdb_rating)
FROM movies
GROUP BY year
ORDER BY year;
GROUP BY is a clause in SQL that is used with aggregate functions. It is used in collaboration with the SELECT statement to arrange identical data into groups.

The GROUP BY statement comes after any WHERE statements, but before ORDER BY or LIMIT.

Instructions
1.
In the code editor, type:

SELECT price, COUNT(*) 
FROM fake_apps
GROUP BY price;
Here, our aggregate function is COUNT() and we arranged price into groups.

What do you expect the result to be?

Checkpoint 2 Passed

Hint
The result contains the total number of apps for each price.

It is organized into two columns, making it very easy to see the number of apps at each price.

2.
In the previous query, add a WHERE clause to count the total number of apps that have been downloaded more than 20,000 times, at each price.

Checkpoint 3 Passed

Hint
Remember, WHERE statement goes before the GROUP BY statement:

SELECT price, COUNT(*) 
FROM fake_apps
WHERE downloads > 20000
GROUP BY price;
3.
Remove the previous query.

Write a new query that calculates the total number of downloads for each category.

Select category and SUM(downloads).

Checkpoint 4 Passed

Hint
First, select the two columns we want:

SELECT category, SUM(downloads)
FROM fake_apps;
Next, group the result for each category by adding a GROUP BY:

SELECT category, SUM(downloads)
FROM fake_apps
GROUP BY category;
Concept Review
Want to quickly review some of the concepts you’ve been learning? Take a look at this material's cheatsheet!
Community Forums
Here are some helpful links to the top questions asked by coders about this exercise:

When using the GROUP BY clause, do we always have to group by one of the selected columns listed after SELECT ?
Still have questions? View this exercise's thread in the Codecademy Forums.
Code Editor
12345
SELECT category, SUM(downloads)
FROM fake_apps
GROUP BY category;


SQLPreview
Query Results
Run a query to see results.

7. Group By I
7/10
